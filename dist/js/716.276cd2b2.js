"use strict";(self["webpackChunkopit"]=self["webpackChunkopit"]||[]).push([[716],{7716:function(t,e,a){a.r(e),a.d(e,{default:function(){return d}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"about"},[e("h1",[t._v("Профил корсника "+t._s(t.name))]),e("br"),e("br"),e("br"),t._v(" Напишите нови тњит:"),e("br"),e("input",{directives:[{name:"model",rawName:"v-model",value:t.sadrzaj,expression:"sadrzaj"}],attrs:{type:"textarea",id:"tnjit",max:"200",size:"80"},domProps:{value:t.sadrzaj},on:{input:function(e){e.target.composing||(t.sadrzaj=e.target.value)}}}),e("br"),e("input",{attrs:{type:"button",value:"Објави"},on:{click:function(e){return t.dodaj()}}}),e("br"),e("br"),e("br"),t._v(" Повест тњитова"),e("br"),e("div",{staticClass:"spisak"},t._l(t.podaci,(function(a){return e("div",{staticClass:"ploce"},[e("h5",[t._v(t._s(a.korisnickoime))]),t._v(" "),e("br"),t._v("      "+t._s(a.sadrzaj)+" "),e("br"),e("br"),t._v(" ⬆️"+t._s(a.gore)+" ⬇️"+t._s(a.dole)+"         "+t._s(a.datum.slice(a.datum.indexOf("T")+1,a.datum.indexOf(".")))+" "+t._s(a.datum.slice(0,a.datum.indexOf("T")))+" "),e("br"),e("input",{attrs:{type:"button",value:"Обриши тњит"},on:{click:function(e){return t.obrisi(a.datum,a.sadrzaj)}}})])})),0)])},o=[],r={props:{msg:String},data(){return{name:"",prijavljen:!1,podaci:[],sadrzaj:""}},created(){const t=localStorage.getItem("ime");t&&fetch("https://vue-rest.herokuapp.com/get?ime="+t,{method:"GET",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include"}).then((t=>t.json())).then((e=>{this.podaci=e,this.name=t}))},methods:{dodaj(){let t=localStorage.getItem("id"),e=localStorage.getItem("token");this.sadrzaj?fetch("https://vue-rest.herokuapp.com/get",{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({Id:t,Sadrzaj:this.sadrzaj,Token:e})}).then((t=>t.json())).then((t=>{400!=t.status||500!=t.status?(this.$socket.emit("comment",{sadrzaj:t.sadrzaj,korisnickoime:this.name,datum:t.datum,doleglasovi:0,goreglasovi:0}),this.$router.go()):alert("Greska u unosa podataka ili upita")})):alert("Niste nista uneli")},obrisi(t,e){let a=localStorage.getItem("id"),s=localStorage.getItem("token");const o={id:a,token:s,datum:t,sadrzaj:e};fetch("https://vue-rest.herokuapp.com/get",{method:"DELETE",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify(o)}).then((t=>t.json())).then((t=>{400!=t.status||500!=t.status?this.$router.go():alert("Greska prilikom brisanja")}))}}},i=r,n=a(1001),l=(0,n.Z)(i,s,o,!1,null,null,null),d=l.exports}}]);
//# sourceMappingURL=716.276cd2b2.js.map