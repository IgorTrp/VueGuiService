"use strict";(self["webpackChunkopit"]=self["webpackChunkopit"]||[]).push([[62],{9062:function(t,a,e){e.r(a),e.d(a,{default:function(){return u}});var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"about"},[a("h1",[t._v("Профил корсника "+t._s(t.name))]),a("br"),a("br"),a("br"),t._v(" Напишите нови тњит:"),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:t.sadrzaj,expression:"sadrzaj"}],attrs:{type:"textarea",id:"tnjit",max:"200",size:"80"},domProps:{value:t.sadrzaj},on:{input:function(a){a.target.composing||(t.sadrzaj=a.target.value)}}}),a("br"),a("input",{attrs:{type:"button",value:"Објави"},on:{click:function(a){return t.dodaj()}}}),a("br"),a("br"),a("br"),t._v(" Повест тњитова"),a("br"),a("div",{staticClass:"spisak"},t._l(t.podaci,(function(e){return a("div",{staticClass:"ploce"},[a("h5",[t._v(t._s(e.korisnickoime))]),t._v(" "),a("br"),t._v("      "+t._s(e.sadrzaj)+" "),a("br"),a("br"),t._v(" "+t._s(e.datum.slice(e.datum.indexOf("T")+1,e.datum.indexOf(".")))+" "+t._s(e.datum.slice(0,e.datum.indexOf("T")))+" ")])})),0)])},i=[],r={props:{msg:String},data(){return{name:"",prijavljen:!1,podaci:[],sadrzaj:""}},async created(){let t=localStorage.getItem("id");t&&await fetch("https://vue-rest.herokuapp.com/get?id="+t).then((t=>t.json())).then((t=>{this.podaci=t[0],this.name=this.podaci[0].korisnickoime}))},methods:{dodaj(){let t=localStorage.getItem("id"),a=localStorage.getItem("token");this.sadrzaj?fetch("https://vue-rest.herokuapp.com/get",{method:"PUT",headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"*"},credentials:"include",body:JSON.stringify({Id:t,Sadrzaj:this.sadrzaj,Token:a})}).then((t=>t.json())).then((t=>{400!=t.status||500!=t.status?(this.$socket.emit("comment",{sadrzaj:t.sadrzaj,korisnickoime:this.name,datum:t.datum,doleglasovi:0,goreglasovi:0}),this.$router.go()):alert("Greska u unosa podataka ili upita")})):alert("Niste nista uneli")}}},o=r,n=e(1001),d=(0,n.Z)(o,s,i,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=62.381d6539.js.map